# Контрольная работа №2
# Гуржиев А.В.

## Все скриншоты прикреплены ссылкой к номеру задания

## [Задание №1](https://github.com/AlexGurzhiev/CyberSecurityReports/blob/main/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA%201.jpg)

### Использованные для ввода данные:
Логин: ' or 1=1;--
Пароль: 12345 (или любой другой текст)

### Под каким пользователем удалось войти:
Удалось войти под учётной записью администратора
Email: admin@juice-sh.op
Имя пользователя: Administrator

### Предположения, почему удалось войти именно под этим пользователем:
SQL-запрос приложения выглядел примерно так:
```sql
SELECT * FROM users WHERE email = '[input_email]' AND password = '[input_password]'
```
После подстановки наших данных запрос превратился в:
```sql
SELECT * FROM users WHERE email = '' or 1=1;--' AND password = '12345'
```
Объяснение:
' - закрывает кавычки для поля email
or 1=1 - добавляет условие, которое ВСЕГДА истинно
;-- - комментирует остальную часть запроса (проверку пароля)
В результате запрос возвращает первую запись из таблицы users, которая обычно принадлежит администратору

### Аутентификационная информация:
Где хранится:
В LocalStorage браузера
Ключ: token
### Что представляет из себя: 
Token имеет формат JWT(JSON Web Token) в кодировке Base64, который содержит:
· ID пользователя
· Email
· Роль (admin/user)
· Хэш пароля
· Время создания и expiration
Как передаётся:

В каждом HTTP-запросе к серверу token передаётся в заголовке:
```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```
Также token автоматически добавляется в cookie при аутентификации

### Доказательство:
После успешного входа откройте DevTools (F12) → Application → Local Storage → http://localhost:3000
Вы увидите ключ token с длинной строкой - это и есть аутентификационный токен

### Дополнительное подтверждение:
· После входа через SQL-инъекцию вы получаете доступ к панели администратора
· Можете управлять пользователями, просматривать все заказы и т.д.
· В интерфейсе отображается "Logged in as admin@juice-sh.op"

### Что такое SQL-инъекция?
Это уязвимость, позволяющая злоумышленнику выполнять произвольные SQL-запросы к базе данных через ненадёжные входные данные (например, поля формы).
### Почему ввод ' or 1=1;-- позволил войти в аккаунт администратора?
Потому что это выражение делает условие WHERE всегда истинным и комментирует проверку пароля, возвращая первую запись из таблицы пользователей (часто это администратор).
### Как защитить веб-ресурс от SQL-инъекций?
Использовать параметризованные запросы (prepared statements), валидацию и санацию входных данных, ограничение прав доступа БД.

## [Задание №2](https://github.com/AlexGurzhiev/CyberSecurityReports/blob/main/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA%202.jpg)
### Логин администратора: admin@juice-sh.op
### Хэш пароля: d6c0c2d6e7f7e7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7c7
### Пароль администратора: admin123
### Что такое cookie?
Это небольшие данные, хранящиеся в браузере и передаваемые серверу с каждым запросом. Используются для аутентификации, сессий и т.д.
### Меры защиты:
Хэшировать пароли с солью, использовать HTTPS, ограничивать время жизни сессий, проверять права доступа.

## [Задание №3](https://github.com/AlexGurzhiev/CyberSecurityReports/blob/main/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA%203.jpg)
### Наименование параметра, который отвечает за открываемую корзину: BasketId: "1"
### Ваши рекомендации по исправлению этой незначительной уязвимости:
Проверять права доступа к ресурсу на сервере: убедиться, что пользователь имеет доступ только к своей корзине.

## [Задание №4](https://github.com/AlexGurzhiev/CyberSecurityReports/blob/main/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA%204.jpg)
### [XSS-код](https://github.com/AlexGurzhiev/CyberSecurityReports/blob/main/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA%205.jpg)
